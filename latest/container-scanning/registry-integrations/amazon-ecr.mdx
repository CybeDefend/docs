---
title: "Amazon ECR"
description: "Scan container images stored in Amazon Elastic Container Registry."
---

**Amazon Elastic Container Registry (ECR)** is AWS's managed Docker container registry. CybeDefend integrates with ECR to scan your container images using AWS IAM authentication.

## CybeDefend Configuration

| Field | Description | Example |
|-------|-------------|---------|
| **AWS Account ID (12 digits)** | Your 12-digit AWS account ID | `123456789012` |
| **AWS Region** | AWS region where your ECR is located | `US East (N. Virginia) (us-east-1)` |
| **Access Key ID** | AWS IAM access key ID | `AKIAIOSFODNN7EXAMPLE` |
| **Secret Access Key** | AWS IAM secret access key | `wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY` |
| **Description** | Optional description for the registry | `Production ECR registry` |

## How to Create IAM Credentials for ECR

<Steps>
  <Step title="Access AWS Console">
    Go to AWS Console → **IAM** → **Users** → **Create user**
  </Step>
  
  <Step title="Attach Policy">
    Attach the policy `AmazonEC2ContainerRegistryReadOnly` (or `AmazonEC2ContainerRegistryFullAccess` for write access)
  </Step>
  
  <Step title="Create Access Key">
    Go to **Security credentials** → **Create access key** → Select **Application running outside AWS**
  </Step>
  
  <Step title="Copy Credentials">
    Copy the **Access Key ID** and **Secret Access Key** and paste them in CybeDefend
  </Step>
</Steps>

<Warning>
The Secret Access Key is only displayed once when created. Make sure to copy it immediately before closing the dialog.
</Warning>

## Security Best Practices

<CardGroup cols={2}>
  <Card title="Use IAM Policies" icon="aws">
    Use `AmazonEC2ContainerRegistryReadOnly` for minimal permissions required.
  </Card>
  <Card title="Rotate Keys Regularly" icon="rotate">
    Rotate access keys every 90 days as recommended by AWS security best practices.
  </Card>
  <Card title="Never Commit Keys" icon="lock">
    Store credentials in environment variables or AWS Secrets Manager.
  </Card>
  <Card title="Use IAM Roles" icon="user-shield">
    Prefer IAM roles over access keys when running in AWS environments.
  </Card>
</CardGroup>

## Troubleshooting

<AccordionGroup>
  <Accordion title="Authentication Failed" icon="circle-exclamation">
    - Verify Access Key ID and Secret Access Key are correct
    - Check if the credentials have expired or been deactivated
    - Ensure the IAM user has the required permissions
  </Accordion>
  <Accordion title="Region Mismatch" icon="globe">
    - Verify the selected region matches your ECR repository region
    - ECR repositories are region-specific
  </Accordion>
</AccordionGroup>
